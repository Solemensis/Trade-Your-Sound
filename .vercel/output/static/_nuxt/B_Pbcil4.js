import{f as b,t as q,b as x,c as N}from"./TpeEdVKv.js";import{u as P}from"./BCquIjg3.js";import{_ as m,C as B,k as O,c as a,o as r,d as e,F as $,z as S,t as v,u as l,f as A,D as R,g as _,e as L,E as V,h as w,G as k,r as h,x as D,l as F,y as I,a as C}from"./Czqr_EBs.js";const U={class:"search-bar"},E=["onClick"],T={__name:"SideBar",setup(i){const{categories:o}=P(),u=B(),s=O({});function f(n){s.category=n,c()}function d(n){s.opportunity=n,c()}function y(n){s.updated=n,c()}function c(){const n={...s};u.push({query:{category:n.category,opportunity:n.opportunity,updated:n.updated}})}function p(){s.category=void 0,s.opportunity=void 0,s.updated=void 0,u.push({query:{category:void 0,opportunity:void 0,updated:void 0}})}return(n,t)=>(r(),a("div",U,[e("div",null,[t[6]||(t[6]=e("h3",null,"Category",-1)),e("ul",null,[e("li",{onClick:t[0]||(t[0]=g=>f())},"All Categories"),(r(!0),a($,null,S(l(o),g=>(r(),a("li",{onClick:oe=>f(g)},v(("formatString"in n?n.formatString:l(b))(g)),9,E))),256))])]),e("div",null,[t[7]||(t[7]=e("h3",null,"Opportunity",-1)),e("ul",null,[e("li",{onClick:t[1]||(t[1]=g=>d())},"All"),e("li",{onClick:t[2]||(t[2]=g=>d("looking"))},"Looking"),e("li",{onClick:t[3]||(t[3]=g=>d("not-looking"))},"Not looking")])]),e("div",null,[t[8]||(t[8]=e("h3",null,"Updated",-1)),e("ul",null,[e("li",{onClick:t[4]||(t[4]=g=>y("descending"))},"Recently"),e("li",{onClick:t[5]||(t[5]=g=>y("ascending"))},"Older")])]),e("button",{class:"filter-remove",onClick:p}," Remove Filters ")]))}},j=m(T,[["__scopeId","data-v-ebb4f484"]]),z={class:"profile-card"},G={class:"description"},J={key:0,class:"related-link"},M={class:"updated"},W={__name:"Card",props:{profile:Object},setup(i){return(o,u)=>{const s=V;return r(),A(s,{to:`/profile/${i.profile.user_name}`},{default:R(()=>[e("div",z,[e("h2",null,v(i.profile.user_name),1),e("p",G,v(("truncateString"in o?o.truncateString:l(q))(i.profile.description)),1),e("div",null,[e("ul",null,[(r(!0),a($,null,S(i.profile.categories,f=>(r(),a("li",{class:"categories",key:f}," âœ”ï¸ "+v(("formatString"in o?o.formatString:l(b))(f)),1))),128))]),i.profile.relatedLinks&&i.profile.relatedLinks[0].relatedLink1Desc?(r(),a("div",J,[u[0]||(u[0]=e("span",{class:"purple-span",style:{"font-size":"1.5rem"}},"âžœ",-1)),e("p",null,v(("truncateShortString"in o?o.truncateShortString:l(x))(i.profile.relatedLinks[0].relatedLink1Desc)),1)])):_("",!0),i.profile.LFopportunity?(r(),a("div",{class:"fire",key:i.profile.id},[u[1]||(u[1]=L(" ðŸ”¥ ",-1)),(r(),a("p",{key:i.profile.id,class:"opportunity"}," User currently looking for opportunities! "))])):_("",!0),e("p",M,"Updated at "+v(("cutString"in o?o.cutString:l(N))(i.profile.updated_at)),1)])])]),_:1},8,["to"])}}},H=m(W,[["__scopeId","data-v-804f223e"]]),K={style:{position:"relative"},class:"cards"},Q={key:1,style:{color:"#ff4545","grid-column-start":"span 2"}},X={key:2,class:"lds-dual-ring",style:{"padding-left":"20rem",top:"20%"}},Y={__name:"Cards",setup(i){const o=w(),u=k(()=>o.query.category),s=k(()=>o.query.opportunity),f=k(()=>o.query.updated),d=h([]);D(async()=>{setTimeout(async()=>{const{data:c,error:p,refresh:n,pending:t}=await F("/api/producerProfile/getProfiles",{query:{category:u.value,opportunity:s.value,updated:f.value}},"$VlO9NJug7R");t.value||(y.value=!1),!c.value&&p.value&&(p.value=null,n()),d.value=c.value},1)});const y=h(!0);return I(()=>o.query,async()=>{const{data:c,error:p,refresh:n}=await F("/api/producerProfile/getProfiles",{query:{category:u.value,opportunity:s.value,updated:f.value}},"$3E8NngA6oF");!c.value&&p.value&&(p.value=null,n()),d.value=c.value}),(c,p)=>{const n=H;return r(),a("div",K,[p[0]||(p[0]=e("h2",{class:"find-producer"},[L(" Find "),e("span",{class:"green-span"},"Producers")],-1)),!l(y)&&l(d)&&l(d).length?(r(!0),a($,{key:0},S(l(d),t=>(r(),a("div",{class:"flex-box",key:t.id},[C(n,{profile:t},null,8,["profile"])]))),128)):!l(y)&&l(d)&&!l(d).length?(r(),a("h2",Q," No Producer Found With These Filters ")):l(y)?(r(),a("div",X)):_("",!0)])}}},Z=m(Y,[["__scopeId","data-v-15a18b91"]]),ee={},te={class:"flex-box-center"};function ne(i,o){const u=j,s=Z;return r(),a("div",null,[C(u),e("div",te,[C(s)])])}const le=m(ee,[["render",ne],["__scopeId","data-v-506f119c"]]);export{le as default};
