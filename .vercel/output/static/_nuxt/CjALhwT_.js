import{_,j as w,r as u,c as x,o as b,d as a,w as h,B as c,u as s,v as k,m as y}from"./Czqr_EBs.js";import{i as z}from"./TpeEdVKv.js";const M="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20xmlns:v='https://vecta.io/nano'%3e%3cpath%20d='M12%2022a10%2010%200%201%201%200-20%2010%2010%200%201%201%200%2020zm0-2a8%208%200%201%200%200-16%208%208%200%200%200%200%2016zM10.622%208.415l4.879%203.252a.4.4%200%200%201%200%20.666l-4.88%203.252a.4.4%200%200%201-.621-.332V8.747a.4.4%200%200%201%20.622-.332z'%20fill='rgba(63,207,142,1)'/%3e%3c/svg%3e",T="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20xmlns:v='https://vecta.io/nano'%3e%3cpath%20d='M12%2022a10%2010%200%201%201%200-20%2010%2010%200%201%201%200%2020zm0-2a8%208%200%201%200%200-16%208%208%200%200%200%200%2016zM9%209h2v6H9V9zm4%200h2v6h-2V9z'%20fill='rgba(204,85,255,1)'/%3e%3c/svg%3e",V={class:"jukebox"},B={class:"buttons"},S={__name:"JukeBox",props:{src:String},setup(p){const v=p,d=w(),e=u(null),l=u(null);async function i(){if(e.value.paused)if(e.value.src){e.value.play();return}else{const{data:r,error:t}=await d.storage.from("audios").download(`public/${z(v.src)}`),o=URL.createObjectURL(r);e.value.src=o,e.value.play()}else{e.value.pause();return}}const n=u(0);function m(){e.value&&e.value.currentTime&&(n.value=e.value.currentTime)}function g(){e.value.currentTime=l.value.value}function f(){l.value.max=e.value.duration,l.value.step=e.value.duration/100}return(r,t)=>(b(),x("div",null,[a("audio",{onLoadedmetadata:f,ref_key:"player",ref:e,onTimeupdate:m,type:"audio/mpeg"},null,544),a("div",V,[a("div",B,[a("button",{class:c({invis:s(e)&&!s(e).paused}),onClick:i},[...t[1]||(t[1]=[a("img",{src:M,alt:"play button"},null,-1)])],2),a("button",{class:c({invis:s(e)&&s(e).paused}),onClick:i},[...t[2]||(t[2]=[a("img",{src:T,alt:"pause button"},null,-1)])],2)]),h(a("input",{class:"timeline",onInput:g,ref_key:"seekSlider",ref:l,"onUpdate:modelValue":t[0]||(t[0]=o=>y(n)?n.value=o:null),type:"range"},null,544),[[k,s(n)]])])]))}},j=_(S,[["__scopeId","data-v-3fe41851"]]);export{j as _};
